# InfomatixTT
# E-Library Manager

# Описание проекта
Проект представляет из себя сервис по учету книг. Проект располагает тремя сущностями - автор, книга и издатель. Между автор и книга настроено отношение многие-ко-многим, а между издательство и книга один-ко-многим. Общение с сервером происходит посредством JSON объектов. После запуска приложения можно перейти по адресу "/swagger-ui.html" для просмотра Swagger документации. 


# Функциональность
В проекте реализованы CRUD операции над сущностями.

# Технологии
В проекте использовались следующие технологии: 
- Spring Boot
- Spring MVC(REST)
- Spring JPA(Hibernate)
- H2 database
- Jackson
- Lombok
- Liquibase
- Docker
- Swagger (OpenAPI 3)

# Создание и запуск БД
Есть два варианта запуска приложения :

1) В проекте используется встроенная (embedded) база данных H2. Для её подключения необходимо изменить путь "spring.datasource.url" в "application.properties".
Для доступа к таблицам можно перейти по адресу "http://localhost:8080/h2-console" и  в качестве URL добавить свой "spring.datasource.url", или через среду разработки добавить базу данных "Data Source from URL", передав тот же URL.
После этого можно выполнить набор SQL-инструкций из файла "/resources/data.sql", чтобы заполнить таблицы значениями по умолчанию. 
Проект настроен таким образом, что при каждом запуске таблицы в базе данных пересоздаются в соответствие с liquibase скриптом.

2) Прописать в терминале 'docker-compose up' и проект развернётся в docker-контейнере.

# Endpoints
Для каждой из рассмотренных сущностей есть набор своих конечных точек, рассмотренных далее.

# Авторы
- GET /author - получить список всех авторов
- GET /author/{id} - получить автора по ID
- POST /author - создать нового автора
- PUT /author/{id} - обновить автора
- DELETE /author/{id} - удалить автора
# Книги
- GET /book - получить список всех книг
- GET /book/{id} - получить книгу по id
- GET /book/publisher/{publisherId} - получить все книги заданного издателя
- GET /book/author/{authorId} - получить все книги заданного автора
- POST /book - создать новую книгу
- PUT /book/{id} - обновить книгу
- DELETE /book/{id} - удалить книгу

# Издательства
- GET /publisher - получить список всех издательств
- GET /publisher/{id} - получить издательство по ID
- POST /publisher - создать новое издательство
- PUT /publisher/{id} - обновить издательство
- DELETE /publisher/{id} - удалить издательство
